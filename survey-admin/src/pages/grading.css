@import "../styles/variables.css";

.grading-wrap { color: #fff; }
.grading-topbar {
  display: flex; align-items: center; justify-content: space-between;
  gap: 12px; padding: 12px 16px;
  background: var(--fe-header-bg);
  border-bottom: 1px solid var(--fe-header-border);
  backdrop-filter: blur(6px);
}
.gt-left h1 { margin: 0; font-size: 1.15rem; }
.crumbs { color: var(--fe-muted); font-size: .95rem; }
.crumbs .sep { margin: 0 6px; opacity: .6; }
.gt-actions .btn + .btn { margin-left: 8px; }

.grading-shell { display: grid; grid-template-columns: 300px 1fr 320px; gap: 14px; padding: 14px; }

.grading-sidebar, .card, .tasks-drawer {
  background: rgba(52,53,56,0.77);
  border: 1px solid rgba(255,255,255,0.14);
  border-radius: var(--fe-round);
  backdrop-filter: blur(6px);
  box-shadow: 0 4px 16px rgba(0,0,0,.35);
}

.grading-sidebar { padding: 12px; }
.panel + .panel { margin-top: 12px; }
.label { font-weight: 700; margin-bottom: 6px; display: block; }
.input {
  width: 100%; color: #fff;
  background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.18);
  border-radius: 10px; padding: 10px 12px; outline: none;
}
.input.mb-2 { margin-bottom: 8px; }
.row-between { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.row.gap { display: inline-flex; gap: 8px; }
.muted { color: #cfd8e3; }

.q-list { list-style: none; padding: 0; margin: 8px 0 0 0; display: flex; flex-direction: column; gap: 8px; }
.q-item {
  position: relative;
  padding: 10px 36px 10px 10px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.06) !important;
  cursor: pointer;
  transition: .2s;
}
.q-item:hover { border-color: rgba(255,255,255,0.35); background: rgba(255,255,255,0.10); }
.q-item.active { border-color: rgba(0,173,181,.55); box-shadow: 0 0 0 1px rgba(0,173,181,.35) inset; }
.q-title { font-weight: 700; }
.q-sub { font-size: .9rem; color: var(--fe-muted); }
.q-overflow { position: absolute; right: 6px; top: 6px; }
.icon-btn {
  background: transparent; border: 0; color: #e2e8f0; cursor: pointer; padding: 4px 6px; border-radius: 6px;
}
.icon-btn:hover { background: rgba(255,255,255,0.08); }

.grading-main { display: flex; flex-direction: column; gap: 14px; }
.card { padding: 14px; }
.card.empty { padding: 28px; text-align: center; color: var(--fe-muted); }
.card-head { display: flex; align-items: baseline; justify-content: space-between; gap: 10px; }
.card-title { margin: 0; font-size: 1.1rem; }
.grid.two { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 10px; }
.box .label { margin-bottom: 6px; }
.textarea { width: 100%; min-height: 110px; border-radius: 10px; padding: 10px 12px; color: #fff; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.18); outline: none; }
.textarea:focus { border-color: rgba(0, 230, 230, .45); box-shadow: 0 0 0 1.5px rgba(0, 230, 230, .28); }

.score-row { display: flex; gap: 8px; flex-wrap: wrap; }
.score-pill {
  border: 1px solid rgba(255,255,255,0.22);
  background: rgba(255,255,255,0.06);
  color: #fff;
  padding: 8px 12px; border-radius: 999px; cursor: pointer; transition: .2s;
}
.score-pill.active, .score-pill:hover { border-color: rgba(0,173,181,.55); background: rgba(0,173,181,.16); }

.badge { background: rgba(255,255,255,0.08); padding: 6px 10px; border-radius: 999px; }

.tasks-drawer { padding: 12px; overflow: hidden; transition: width .2s; }
.tasks-drawer.open { width: 320px; }
.tasks-drawer:not(.open) { width: 40px; }
.drawer-head { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
.tasks { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 8px; }
.task { display: grid; grid-template-columns: 1fr auto; gap: 8px; align-items: center; padding: 10px; border-radius: 10px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.14); }
.task.empty { text-align: center; color: var(--fe-muted); }
.task-text { overflow-wrap: anywhere; }
.task-actions { display: inline-flex; gap: 6px; align-items: center; }
.input.sm { padding: 6px 8px; border-radius: 8px; }

.btn {
  appearance: none;
  border: 1px solid rgba(255,255,255,0.22);
  color: #fff; background: rgba(255,255,255,0.06);
  padding: 10px 14px; border-radius: 10px; cursor: pointer; font-weight: 600;
  transition: .2s; backdrop-filter: blur(6px);
}
.btn:hover { border-color: rgba(255,255,255,.35); background: rgba(255,255,255,.10); }
.btn.btn-ghost { background: transparent; }
.btn-primary { border-color: rgba(0, 230, 230, 0.45); background: rgba(0, 230, 230, 0.12); }
.mt-2 { margin-top: 12px; }

@media (max-width: 1100px) { .grading-shell { grid-template-columns: 1fr; } .tasks-drawer:not(.open){ width: 100%; } }

.wire-answer {
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.14);
  padding: 8px 10px;
  border-radius: 8px;
  font-size: 0.95rem;
  margin-bottom: 6px;
  white-space: pre-wrap;
}

.answer-box {
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.14);
  padding: 10px 12px;
  border-radius: 10px;
  margin-top: 6px;
  white-space: pre-wrap;
  line-height: 1.45;
  color: #e8eef5;
}

/* Bottom status section */
.status-section { margin-top: 16px; }
.status-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
@media (max-width: 900px) {
  .status-row { grid-template-columns: 1fr; }
}

.status-card { padding: 12px; }

.status-list {
  list-style: none;
  margin: 8px 0 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.status-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px;
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: 10px;
  background: rgba(255,255,255,0.06);
}
.status-main { display: flex; flex-direction: column; gap: 4px; }
.status-title { font-weight: 700; }
.status-sub { font-size: 0.9rem; }
.status-actions { display: flex; gap: 8px; }
